<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>School Data Manager</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <header class="app-header">
    <div class="brand">
      <div class="logo" aria-hidden="true">??</div>
      <div>
        <h1>School Data Manager</h1>
        <p class="subtitle">Single-page data management for schools</p>
      </div>
    </div>
    <div class="header-actions">
      <button id="btn-export" class="btn primary" title="Export all data">Export</button>
      <label class="btn" title="Import JSON or CSV">
        Import
        <input id="file-import" type="file" accept=".json,.csv" hidden />
      </label>
      <button id="btn-sample" class="btn" title="Load sample data">Sample</button>
      <button id="btn-clear" class="btn danger" title="Clear all data">Clear</button>
    </div>
  </header>

  <nav class="tabs" role="tablist" aria-label="Sections">
    <button class="tab active" data-tab="students" role="tab" aria-selected="true">Students</button>
    <button class="tab" data-tab="teachers" role="tab" aria-selected="false">Teachers</button>
    <button class="tab" data-tab="classes" role="tab" aria-selected="false">Classes</button>
    <button class="tab" data-tab="enrollments" role="tab" aria-selected="false">Enrollments</button>
    <button class="tab" data-tab="reports" role="tab" aria-selected="false">Reports</button>
    <button class="tab" data-tab="settings" role="tab" aria-selected="false">Settings</button>
  </nav>

  <main id="content">
    <!-- Toolbar -->
    <section class="toolbar">
      <div class="search">
        <input id="search-input" type="search" placeholder="Search current view..." aria-label="Search" />
      </div>
      <div class="view-actions">
        <button id="btn-add" class="btn primary">Add</button>
        <div class="select">
          <label for="sort-select" class="sr-only">Sort by</label>
          <select id="sort-select" aria-label="Sort by"></select>
        </div>
      </div>
    </section>

    <!-- Students -->
    <section id="view-students" class="view active" data-view="students" aria-labelledby="tab-students">
      <div id="students-form" class="card form hidden"></div>
      <div class="card">
        <div id="students-table" class="table-container"></div>
      </div>
    </section>

    <!-- Teachers -->
    <section id="view-teachers" class="view" data-view="teachers" aria-labelledby="tab-teachers">
      <div id="teachers-form" class="card form hidden"></div>
      <div class="card">
        <div id="teachers-table" class="table-container"></div>
      </div>
    </section>

    <!-- Classes -->
    <section id="view-classes" class="view" data-view="classes" aria-labelledby="tab-classes">
      <div id="classes-form" class="card form hidden"></div>
      <div class="card">
        <div id="classes-table" class="table-container"></div>
      </div>
    </section>

    <!-- Enrollments -->
    <section id="view-enrollments" class="view" data-view="enrollments" aria-labelledby="tab-enrollments">
      <div id="enrollments-form" class="card form hidden"></div>
      <div class="card">
        <div id="enrollments-table" class="table-container"></div>
      </div>
    </section>

    <!-- Reports -->
    <section id="view-reports" class="view" data-view="reports" aria-labelledby="tab-reports">
      <div class="card">
        <div class="report-controls">
          <div class="select">
            <label for="report-select" class="sr-only">Report</label>
            <select id="report-select">
              <option value="enrollmentByClass">Enrollment by Class</option>
              <option value="studentsByGrade">Students by Grade</option>
              <option value="teacherLoad">Teacher Load</option>
            </select>
          </div>
          <button id="btn-run-report" class="btn">Run</button>
          <button id="btn-print-report" class="btn">Print</button>
        </div>
        <div id="report-output" class="table-container"></div>
      </div>
    </section>

    <!-- Settings -->
    <section id="view-settings" class="view" data-view="settings" aria-labelledby="tab-settings">
      <div class="card">
        <h2>Settings</h2>
        <div class="settings-grid">
          <div>
            <h3>Storage</h3>
            <p>Data is stored in your browser using localStorage.</p>
            <button id="btn-backup" class="btn">Backup to file</button>
            <label class="btn">
              Restore from file
              <input id="file-restore" type="file" accept=".json" hidden />
            </label>
          </div>
          <div>
            <h3>Theme</h3>
            <label class="switch">
              <input id="toggle-theme" type="checkbox" />
              <span>Dark mode</span>
            </label>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="app-footer">
    <span id="save-indicator" aria-live="polite">Saved</span>
    <span class="spacer"></span>
    <span>School Data Manager ? Local-first ? Offline-capable</span>
  </footer>

  <template id="tmpl-form-student">
    <h2 id="form-title">Add Student</h2>
    <form data-entity="student">
      <div class="grid">
        <label>
          <span>First name</span>
          <input name="firstName" required />
        </label>
        <label>
          <span>Last name</span>
          <input name="lastName" required />
        </label>
        <label>
          <span>Grade</span>
          <select name="grade" required>
            <option value="K">K</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
          </select>
        </label>
        <label>
          <span>Date of Birth</span>
          <input type="date" name="dob" required />
        </label>
        <label class="wide">
          <span>Email</span>
          <input type="email" name="email" />
        </label>
      </div>
      <div class="form-actions">
        <button type="submit" class="btn primary">Save</button>
        <button type="button" class="btn" data-action="cancel">Cancel</button>
      </div>
    </form>
  </template>

  <template id="tmpl-form-teacher">
    <h2 id="form-title">Add Teacher</h2>
    <form data-entity="teacher">
      <div class="grid">
        <label>
          <span>First name</span>
          <input name="firstName" required />
        </label>
        <label>
          <span>Last name</span>
          <input name="lastName" required />
        </label>
        <label>
          <span>Email</span>
          <input type="email" name="email" />
        </label>
        <label>
          <span>Department</span>
          <input name="department" />
        </label>
      </div>
      <div class="form-actions">
        <button type="submit" class="btn primary">Save</button>
        <button type="button" class="btn" data-action="cancel">Cancel</button>
      </div>
    </form>
  </template>

  <template id="tmpl-form-class">
    <h2 id="form-title">Add Class</h2>
    <form data-entity="class">
      <div class="grid">
        <label>
          <span>Class name</span>
          <input name="name" required />
        </label>
        <label>
          <span>Code</span>
          <input name="code" required />
        </label>
        <label>
          <span>Teacher</span>
          <select name="teacherId" id="class-teacher" required></select>
        </label>
        <label>
          <span>Schedule</span>
          <input name="schedule" placeholder="Mon/Wed/Fri 10:00-10:50" />
        </label>
      </div>
      <div class="form-actions">
        <button type="submit" class="btn primary">Save</button>
        <button type="button" class="btn" data-action="cancel">Cancel</button>
      </div>
    </form>
  </template>

  <template id="tmpl-form-enrollment">
    <h2 id="form-title">Add Enrollment</h2>
    <form data-entity="enrollment">
      <div class="grid">
        <label>
          <span>Student</span>
          <select name="studentId" id="enroll-student" required></select>
        </label>
        <label>
          <span>Class</span>
          <select name="classId" id="enroll-class" required></select>
        </label>
        <label>
          <span>Status</span>
          <select name="status">
            <option value="enrolled">Enrolled</option>
            <option value="waitlisted">Waitlisted</option>
            <option value="dropped">Dropped</option>
          </select>
        </label>
      </div>
      <div class="form-actions">
        <button type="submit" class="btn primary">Save</button>
        <button type="button" class="btn" data-action="cancel">Cancel</button>
      </div>
    </form>
  </template>

  <script src="./app.js" type="module"></script>
</body>
</html>
